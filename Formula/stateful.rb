# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Stateful < Formula
  desc "CLI for Stateful - Optimize for flow, code better, be happy."
  homepage "https://stateful.com"
  version "0.1.1"

  on_macos do
    if Hardware::CPU.intel?
      url "https://download.stateful.com/stateful-cli/0.1.1/stateful_darwin_x86_64.tar.gz", :using => CurlDownloadStrategy
      sha256 "58034b9423fe0b32f9f21613efffed02a58d3e54817c50d86784fff7411289cb"

      def install
        bin.install "stateful"
        (bash_completion/"stateful").write `#{bin}/stateful completion bash`
        (fish_completion/"stateful.fish").write `#{bin}/stateful completion fish`
        (zsh_completion/"_stateful").write `#{bin}/stateful completion zsh`
      end
    end
    if Hardware::CPU.arm?
      url "https://download.stateful.com/stateful-cli/0.1.1/stateful_darwin_arm64.tar.gz", :using => CurlDownloadStrategy
      sha256 "458adeeb506f7eb35bdc3b42d7332523d50b9da625264cd51f021331a0d79a4a"

      def install
        bin.install "stateful"
        (bash_completion/"stateful").write `#{bin}/stateful completion bash`
        (fish_completion/"stateful.fish").write `#{bin}/stateful completion fish`
        (zsh_completion/"_stateful").write `#{bin}/stateful completion zsh`
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://download.stateful.com/stateful-cli/0.1.1/stateful_linux_x86_64.tar.gz", :using => CurlDownloadStrategy
      sha256 "e08fe4476191a0d2f7a014e465d915b00c014bd194b64e689a4bba7503121893"

      def install
        bin.install "stateful"
        (bash_completion/"stateful").write `#{bin}/stateful completion bash`
        (fish_completion/"stateful.fish").write `#{bin}/stateful completion fish`
        (zsh_completion/"_stateful").write `#{bin}/stateful completion zsh`
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://download.stateful.com/stateful-cli/0.1.1/stateful_linux_arm64.tar.gz", :using => CurlDownloadStrategy
      sha256 "9bb5a0cad2aca5499c115c802ac86d912cc20e49a144807131d627710a659a1d"

      def install
        bin.install "stateful"
        (bash_completion/"stateful").write `#{bin}/stateful completion bash`
        (fish_completion/"stateful.fish").write `#{bin}/stateful completion fish`
        (zsh_completion/"_stateful").write `#{bin}/stateful completion zsh`
      end
    end
  end

  test do
    assert_match "stateful #{version}", shell_output("#{bin}/stateful version")
  end
end
